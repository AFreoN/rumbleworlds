{"ast":null,"code":"import{useRef,useEffect}from\"react\";import*as THREE from\"three\";import{TrackballControls}from\"three/examples/jsm/controls/TrackballControls.js\";import{OBJLoader}from\"three/examples/jsm/loaders/OBJLoader.js\";import model from\"assets/planet/planet.obj\";import texture from\"assets/planet/planet_palette.png\";import{jsx as _jsx}from\"react/jsx-runtime\";var modelLoaded=false;function Planet(){const ref=useRef();useEffect(()=>{var world;var width,height;var controls;var isMouseDown=false;const pivot=new THREE.Group();const moon=new THREE.Group();const rings=new THREE.Group();const current=ref.current;const manager=new THREE.LoadingManager();const scene=new THREE.Scene();width=ref.current.clientWidth;// or window.innerWidth;\nheight=ref.current.clientHeight;// = window.innerHeight for full screen\nconst camera=new THREE.PerspectiveCamera(60,width/height,1,100);camera.position.set(0,0,4);const renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});renderer.setSize(width,height);// document.body.appendChild( renderer.domElement );\n// use ref as a mount point of the Three.js scene instead of the document.body\nref.current.appendChild(renderer.domElement);// add light\nscene.fog=new THREE.Fog(0xa0a0a0,1,100);const hemiLight=new THREE.HemisphereLight(0xffffff,0x222222,1);hemiLight.position.set(0,0,-5);const hemiLight2=new THREE.HemisphereLight(0xeeeeee,0x222222,1);hemiLight2.position.set(0,0,5);// scene.add(hemiLight);\ncamera.add(hemiLight);camera.add(hemiLight2);// const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 10);\n// scene.add(hemiLightHelper);\nconst dirLight=new THREE.DirectionalLight(0xffffff);dirLight.position.set(0,0,-50);dirLight.castShadow=true;dirLight.shadow.camera.right=100;dirLight.shadow.camera.left=-100;dirLight.shadow.camera.top=100;dirLight.shadow.camera.bottom=-100;// dirLight.lookAt = new Vector3();\n// scene.add(dirLight);\ncamera.add(dirLight);scene.add(camera);const pointLight=new THREE.PointLight(0xffffff,0.8);pointLight.position.y=5;camera.add(pointLight);// renderer.domElement.style.display = \"none\";\n// add to show light helper\n// const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\n// scene.add(dirLightHelper);\n// load model\nconst loader=new OBJLoader(manager);const textureLoader=new THREE.TextureLoader(manager);loader.load(model,function(object){world=object;// console.log(world);\ntextureLoader.load(texture,texture=>{world.traverse(function(child){if(child.isMesh){child.castShadow=true;child.receiveShadow=true;child.material.map=texture;child.material.needsUpdate=true;child.material.side=THREE.DoubleSide;}});var box=new THREE.Box3().setFromObject(world);box.getCenter(world.position);// this re-sets the mesh position\nworld.position.multiplyScalar(-1);while(world.children.length>0){let child=world.children[0];box.getCenter(child.position);// this re-sets the mesh position\nchild.position.multiplyScalar(-1);if(child.name===\"Icosphere.001_Icosphere.005\"||child.name.includes(\"Moon\")){moon.add(child);}else if(child.name.includes(\"Ring\")){rings.add(child);}else if(child.name.includes(\"atmosphere_atmosphere_X\")){child.material.opacity=0.1;child.material.transparent=true;pivot.add(child);}else pivot.add(child);}// console.log(rings);\nscene.add(pivot);camera.add(rings);rings.position.z=-4;rings.rotation.y=20;camera.add(moon);moon.position.z=-4;moon.rotation.y=-2.5;moon.rotation.x=-5;//renderer.compile(scene,camera);\nmodelLoaded=true;render();afterLoad();});// setTimeout(() => {\n// }, 2500);\n// renderer.domElement.style.display = \"block\";\n});// manager.onLoad = () => {\nconst afterLoad=function(){// console.log(\"loaded\");\nwindow.addEventListener(\"resize\",handleResize);current.addEventListener(\"touchstart\",onMouseDown,false);current.addEventListener(\"touchend\",onMouseUp,false);current.addEventListener(\"mousedown\",onMouseDown);current.addEventListener(\"mouseup\",onMouseUp);animate();};controls=new TrackballControls(camera,renderer.domElement);controls.rotateSpeed=2;controls.noPan=true;controls.noZoom=true;controls.update();const doc=document.getElementById('planet_model');function isScrolledIntoView(el){var rect=el.getBoundingClientRect();var elemTop=rect.top;var elemBottom=rect.bottom;// Only completely visible elements return true:\n// var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);\nvar isVisible=elemTop<window.innerHeight&&elemBottom>=0;// Partially visible elements return true:\n//isVisible = elemTop < window.innerHeight && elemBottom >= 0;\nreturn isVisible;}// animate\nconst animate=function(){if(!isMouseDown){pivot.rotation.y+=0.002;// moon.rotation.x -= 0.2;\n// moon.rotation.y -= 0.2;\n}requestAnimationFrame(animate);if(isScrolledIntoView(doc)&&modelLoaded){moon.rotation.z-=0.002;rings.rotation.y+=0.001;controls.update();render();}};const render=()=>{renderer.render(scene,camera);};const handleResize=()=>{width=ref.current.clientWidth;height=ref.current.clientHeight;renderer.setSize(width,height);camera.aspect=width/height;camera.updateProjectionMatrix();render();};const onMouseDown=()=>{isMouseDown=true;};const onMouseUp=()=>{isMouseDown=false;};return()=>{// Callback to cleanup three js, cancel animationFrame, etc\nwindow.removeEventListener(\"resize\",handleResize);current.removeEventListener(\"touchstart\",onMouseDown);current.removeEventListener(\"touchend\",onMouseUp);current.removeEventListener(\"mousedown\",onMouseDown);current.removeEventListener(\"mouseup\",onMouseUp);current.removeChild(renderer.domElement);scene.remove(pivot);scene.remove(rings);scene.remove(moon);scene.remove(hemiLight);scene.remove(hemiLight2);scene.remove(dirLight);};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"planet\",ref:ref});}export default Planet;","map":{"version":3,"names":["useRef","useEffect","THREE","TrackballControls","OBJLoader","model","texture","jsx","_jsx","modelLoaded","Planet","ref","world","width","height","controls","isMouseDown","pivot","Group","moon","rings","current","manager","LoadingManager","scene","Scene","clientWidth","clientHeight","camera","PerspectiveCamera","position","set","renderer","WebGLRenderer","alpha","antialias","setSize","appendChild","domElement","fog","Fog","hemiLight","HemisphereLight","hemiLight2","add","dirLight","DirectionalLight","castShadow","shadow","right","left","top","bottom","pointLight","PointLight","y","loader","textureLoader","TextureLoader","load","object","traverse","child","isMesh","receiveShadow","material","map","needsUpdate","side","DoubleSide","box","Box3","setFromObject","getCenter","multiplyScalar","children","length","name","includes","opacity","transparent","z","rotation","x","render","afterLoad","window","addEventListener","handleResize","onMouseDown","onMouseUp","animate","rotateSpeed","noPan","noZoom","update","doc","document","getElementById","isScrolledIntoView","el","rect","getBoundingClientRect","elemTop","elemBottom","isVisible","innerHeight","requestAnimationFrame","aspect","updateProjectionMatrix","removeEventListener","removeChild","remove","className"],"sources":["D:/Others/Three js/rumbleworlds/src/components/Planet/Planet.jsx"],"sourcesContent":["import { useRef, useEffect } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls.js\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\r\nimport model from \"assets/planet/planet.obj\";\r\nimport texture from \"assets/planet/planet_palette.png\";\r\n\r\nvar modelLoaded = false;\r\n\r\nfunction Planet() {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    var world;\r\n    var width, height;\r\n    var controls;\r\n\r\n    var isMouseDown = false;\r\n\r\n    const pivot = new THREE.Group();\r\n    const moon = new THREE.Group();\r\n    const rings = new THREE.Group();\r\n\r\n    const current = ref.current;\r\n    const manager = new THREE.LoadingManager();\r\n\r\n    const scene = new THREE.Scene();\r\n    width = ref.current.clientWidth; // or window.innerWidth;\r\n    height = ref.current.clientHeight; // = window.innerHeight for full screen\r\n    const camera = new THREE.PerspectiveCamera(60, width / height, 1, 100);\r\n\r\n    camera.position.set(0, 0, 4);\r\n\r\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n    renderer.setSize(width, height);\r\n    // document.body.appendChild( renderer.domElement );\r\n    // use ref as a mount point of the Three.js scene instead of the document.body\r\n    ref.current.appendChild(renderer.domElement);\r\n\r\n    // add light\r\n\r\n    scene.fog = new THREE.Fog(0xa0a0a0, 1, 100);\r\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x222222, 1);\r\n    hemiLight.position.set(0, 0, -5);\r\n\r\n    const hemiLight2 = new THREE.HemisphereLight(0xeeeeee, 0x222222, 1);\r\n    hemiLight2.position.set(0, 0, 5);\r\n    // scene.add(hemiLight);\r\n    camera.add(hemiLight);\r\n    camera.add(hemiLight2);\r\n    // const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 10);\r\n    // scene.add(hemiLightHelper);\r\n\r\n    const dirLight = new THREE.DirectionalLight(0xffffff);\r\n    dirLight.position.set(0, 0, -50);\r\n    dirLight.castShadow = true;\r\n    dirLight.shadow.camera.right = 100;\r\n    dirLight.shadow.camera.left = -100;\r\n    dirLight.shadow.camera.top = 100;\r\n    dirLight.shadow.camera.bottom = -100;\r\n    // dirLight.lookAt = new Vector3();\r\n    // scene.add(dirLight);\r\n    camera.add(dirLight);\r\n    scene.add(camera);\r\n    const pointLight = new THREE.PointLight(0xffffff, 0.8);\r\n    pointLight.position.y = 5;\r\n    camera.add(pointLight);\r\n\r\n    // renderer.domElement.style.display = \"none\";\r\n\r\n    // add to show light helper\r\n    // const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\r\n    // scene.add(dirLightHelper);\r\n\r\n    // load model\r\n    const loader = new OBJLoader(manager);\r\n    const textureLoader = new THREE.TextureLoader(manager);\r\n\r\n    loader.load(model, function (object) {\r\n      world = object;\r\n      // console.log(world);\r\n\r\n      textureLoader.load(texture, (texture) => {\r\n\r\n        world.traverse(function (child) {\r\n          if (child.isMesh) {\r\n            child.castShadow = true;\r\n            child.receiveShadow = true;\r\n            child.material.map = texture;\r\n            child.material.needsUpdate = true;\r\n            child.material.side = THREE.DoubleSide;\r\n          }\r\n        });\r\n        var box = new THREE.Box3().setFromObject(world);\r\n        box.getCenter(world.position); // this re-sets the mesh position\r\n        world.position.multiplyScalar(-1);\r\n  \r\n        while (world.children.length > 0) {\r\n          let child = world.children[0];\r\n          box.getCenter(child.position); // this re-sets the mesh position\r\n          child.position.multiplyScalar(-1);\r\n          if (\r\n            child.name === \"Icosphere.001_Icosphere.005\" ||\r\n            child.name.includes(\"Moon\")\r\n          ) {\r\n            moon.add(child);\r\n          } else if (child.name.includes(\"Ring\")) {\r\n            rings.add(child);\r\n          } else if (child.name.includes(\"atmosphere_atmosphere_X\")) {\r\n            child.material.opacity = 0.1;\r\n            child.material.transparent = true;\r\n            pivot.add(child);\r\n          } else pivot.add(child);\r\n        }\r\n  \r\n        // console.log(rings);\r\n  \r\n        scene.add(pivot);\r\n        camera.add(rings);\r\n        rings.position.z = -4;\r\n        rings.rotation.y = 20;\r\n        camera.add(moon);\r\n        moon.position.z = -4;\r\n        moon.rotation.y = -2.5;\r\n        moon.rotation.x = -5;\r\n  \r\n        //renderer.compile(scene,camera);\r\n        modelLoaded = true;\r\n        render();\r\n        afterLoad();\r\n      });\r\n\r\n      // setTimeout(() => {\r\n      // }, 2500);\r\n      // renderer.domElement.style.display = \"block\";\r\n    });\r\n\r\n    // manager.onLoad = () => {\r\n    const afterLoad = function() {\r\n      // console.log(\"loaded\");\r\n\r\n      window.addEventListener(\"resize\", handleResize);\r\n      current.addEventListener(\"touchstart\", onMouseDown, false);\r\n      current.addEventListener(\"touchend\", onMouseUp, false);\r\n      current.addEventListener(\"mousedown\", onMouseDown);\r\n      current.addEventListener(\"mouseup\", onMouseUp);\r\n      animate();\r\n    };\r\n\r\n    controls = new TrackballControls(camera, renderer.domElement);\r\n\r\n    controls.rotateSpeed = 2;\r\n    controls.noPan = true;\r\n    controls.noZoom = true;\r\n    controls.update();\r\n\r\n    const doc = document.getElementById('planet_model');\r\n    function isScrolledIntoView(el) {\r\n      var rect = el.getBoundingClientRect();\r\n      var elemTop = rect.top;\r\n      var elemBottom = rect.bottom;\r\n  \r\n      // Only completely visible elements return true:\r\n      // var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);\r\n      var isVisible = elemTop < window.innerHeight && elemBottom >= 0;\r\n      // Partially visible elements return true:\r\n      //isVisible = elemTop < window.innerHeight && elemBottom >= 0;\r\n      return isVisible;\r\n    }\r\n\r\n    // animate\r\n    const animate = function () {\r\n      if (!isMouseDown) {\r\n        pivot.rotation.y += 0.002;\r\n        // moon.rotation.x -= 0.2;\r\n        // moon.rotation.y -= 0.2;\r\n      }\r\n      requestAnimationFrame(animate);\r\n      if(isScrolledIntoView(doc) && modelLoaded){\r\n        moon.rotation.z -= 0.002;\r\n        rings.rotation.y += 0.001;\r\n        controls.update();\r\n        render();\r\n      }\r\n    };\r\n\r\n    const render = () => {\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    const handleResize = () => {\r\n      width = ref.current.clientWidth;\r\n      height = ref.current.clientHeight;\r\n      renderer.setSize(width, height);\r\n      camera.aspect = width / height;\r\n      camera.updateProjectionMatrix();\r\n      render();\r\n    };\r\n\r\n    const onMouseDown = () => {\r\n      isMouseDown = true;\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      isMouseDown = false;\r\n    };\r\n\r\n    return () => {\r\n      // Callback to cleanup three js, cancel animationFrame, etc\r\n\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      current.removeEventListener(\"touchstart\", onMouseDown);\r\n      current.removeEventListener(\"touchend\", onMouseUp);\r\n      current.removeEventListener(\"mousedown\", onMouseDown);\r\n      current.removeEventListener(\"mouseup\", onMouseUp);\r\n      current.removeChild(renderer.domElement);\r\n\r\n      scene.remove(pivot);\r\n      scene.remove(rings);\r\n      scene.remove(moon);\r\n      scene.remove(hemiLight);\r\n      scene.remove(hemiLight2);\r\n      scene.remove(dirLight);\r\n    };\r\n  }, []);\r\n\r\n  return <div className=\"planet\" ref={ref} />;\r\n}\r\n\r\nexport default Planet;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}