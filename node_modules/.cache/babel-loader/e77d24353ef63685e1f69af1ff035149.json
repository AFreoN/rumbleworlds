{"ast":null,"code":"var _jsxFileName = \"D:\\\\Others\\\\Three js\\\\rumbleworlds-master\\\\src\\\\components\\\\Planet\\\\Planet.jsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from \"react\";\nimport * as THREE from \"three\";\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls.js\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\nimport model from \"assets/planet/planet.obj\";\nimport texture from \"assets/planet/planet_palette.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar modelLoaded = false;\nfunction Planet() {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    var world;\n    var width, height;\n    var controls;\n    var isMouseDown = false;\n    const pivot = new THREE.Group();\n    const moon = new THREE.Group();\n    const rings = new THREE.Group();\n    const current = ref.current;\n    const manager = new THREE.LoadingManager();\n    const scene = new THREE.Scene();\n    width = ref.current.clientWidth; // or window.innerWidth;\n    height = ref.current.clientHeight; // = window.innerHeight for full screen\n    const camera = new THREE.PerspectiveCamera(60, width / height, 1, 100);\n    camera.position.set(0, 0, 4);\n    const renderer = new THREE.WebGLRenderer({\n      alpha: true,\n      antialias: true\n    });\n    renderer.setSize(width, height);\n    // document.body.appendChild( renderer.domElement );\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    ref.current.appendChild(renderer.domElement);\n\n    // add light\n\n    scene.fog = new THREE.Fog(0xa0a0a0, 1, 100);\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x222222, 1);\n    hemiLight.position.set(0, 0, -5);\n    const hemiLight2 = new THREE.HemisphereLight(0xeeeeee, 0x222222, 1);\n    hemiLight2.position.set(0, 0, 5);\n    // scene.add(hemiLight);\n    camera.add(hemiLight);\n    camera.add(hemiLight2);\n    // const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 10);\n    // scene.add(hemiLightHelper);\n\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(0, 0, -50);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.right = 100;\n    dirLight.shadow.camera.left = -100;\n    dirLight.shadow.camera.top = 100;\n    dirLight.shadow.camera.bottom = -100;\n    // dirLight.lookAt = new Vector3();\n    // scene.add(dirLight);\n    camera.add(dirLight);\n    scene.add(camera);\n    const pointLight = new THREE.PointLight(0xffffff, 0.8);\n    pointLight.position.y = 5;\n    camera.add(pointLight);\n\n    // renderer.domElement.style.display = \"none\";\n\n    // add to show light helper\n    // const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\n    // scene.add(dirLightHelper);\n\n    // load model\n    const loader = new OBJLoader(manager);\n    const textureLoader = new THREE.TextureLoader(manager);\n    loader.load(model, function (object) {\n      world = object;\n      // console.log(world);\n\n      textureLoader.load(texture, texture => {\n        world.traverse(function (child) {\n          if (child.isMesh) {\n            child.castShadow = true;\n            child.receiveShadow = true;\n            child.material.map = texture;\n            child.material.needsUpdate = true;\n            child.material.side = THREE.DoubleSide;\n          }\n        });\n        var box = new THREE.Box3().setFromObject(world);\n        box.getCenter(world.position); // this re-sets the mesh position\n        world.position.multiplyScalar(-1);\n        while (world.children.length > 0) {\n          let child = world.children[0];\n          box.getCenter(child.position); // this re-sets the mesh position\n          child.position.multiplyScalar(-1);\n          if (child.name === \"Icosphere.001_Icosphere.005\" || child.name.includes(\"Moon\")) {\n            moon.add(child);\n          } else if (child.name.includes(\"Ring\")) {\n            rings.add(child);\n          } else if (child.name.includes(\"atmosphere_atmosphere_X\")) {\n            child.material.opacity = 0.1;\n            child.material.transparent = true;\n            pivot.add(child);\n          } else pivot.add(child);\n        }\n\n        // console.log(rings);\n\n        scene.add(pivot);\n        camera.add(rings);\n        rings.position.z = -4;\n        rings.rotation.y = 20;\n        camera.add(moon);\n        moon.position.z = -4;\n        moon.rotation.y = -2.5;\n        moon.rotation.x = -5;\n\n        //renderer.compile(scene,camera);\n        modelLoaded = true;\n        render();\n        afterLoad();\n      });\n\n      // setTimeout(() => {\n      // }, 2500);\n      // renderer.domElement.style.display = \"block\";\n    });\n\n    // manager.onLoad = () => {\n    const afterLoad = function () {\n      // console.log(\"loaded\");\n\n      window.addEventListener(\"resize\", handleResize);\n      current.addEventListener(\"touchstart\", onMouseDown, false);\n      current.addEventListener(\"touchend\", onMouseUp, false);\n      current.addEventListener(\"mousedown\", onMouseDown);\n      current.addEventListener(\"mouseup\", onMouseUp);\n      animate();\n    };\n    controls = new TrackballControls(camera, renderer.domElement);\n    controls.rotateSpeed = 2;\n    controls.noPan = true;\n    controls.noZoom = true;\n    controls.update();\n    const doc = document.getElementById('planet_model');\n    function isScrolledIntoView(el) {\n      var rect = el.getBoundingClientRect();\n      var elemTop = rect.top;\n      var elemBottom = rect.bottom;\n\n      // Only completely visible elements return true:\n      // var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);\n      var isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n      // Partially visible elements return true:\n      //isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n      return isVisible;\n    }\n\n    // animate\n    const animate = function () {\n      if (!isMouseDown) {\n        pivot.rotation.y += 0.002;\n        // moon.rotation.x -= 0.2;\n        // moon.rotation.y -= 0.2;\n      }\n      requestAnimationFrame(animate);\n      if (isScrolledIntoView(doc) && modelLoaded) {\n        moon.rotation.z -= 0.002;\n        rings.rotation.y += 0.001;\n        controls.update();\n        render();\n      }\n    };\n    const render = () => {\n      renderer.render(scene, camera);\n    };\n    const handleResize = () => {\n      width = ref.current.clientWidth;\n      height = ref.current.clientHeight;\n      renderer.setSize(width, height);\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n      render();\n    };\n    const onMouseDown = () => {\n      isMouseDown = true;\n    };\n    const onMouseUp = () => {\n      isMouseDown = false;\n    };\n    return () => {\n      // Callback to cleanup three js, cancel animationFrame, etc\n\n      window.removeEventListener(\"resize\", handleResize);\n      current.removeEventListener(\"touchstart\", onMouseDown);\n      current.removeEventListener(\"touchend\", onMouseUp);\n      current.removeEventListener(\"mousedown\", onMouseDown);\n      current.removeEventListener(\"mouseup\", onMouseUp);\n      current.removeChild(renderer.domElement);\n      scene.remove(pivot);\n      scene.remove(rings);\n      scene.remove(moon);\n      scene.remove(hemiLight);\n      scene.remove(hemiLight2);\n      scene.remove(dirLight);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"planet\",\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 10\n  }, this);\n}\n_s(Planet, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = Planet;\nexport default Planet;\nvar _c;\n$RefreshReg$(_c, \"Planet\");","map":{"version":3,"names":["useRef","useEffect","THREE","TrackballControls","OBJLoader","model","texture","jsxDEV","_jsxDEV","modelLoaded","Planet","_s","ref","world","width","height","controls","isMouseDown","pivot","Group","moon","rings","current","manager","LoadingManager","scene","Scene","clientWidth","clientHeight","camera","PerspectiveCamera","position","set","renderer","WebGLRenderer","alpha","antialias","setSize","appendChild","domElement","fog","Fog","hemiLight","HemisphereLight","hemiLight2","add","dirLight","DirectionalLight","castShadow","shadow","right","left","top","bottom","pointLight","PointLight","y","loader","textureLoader","TextureLoader","load","object","traverse","child","isMesh","receiveShadow","material","map","needsUpdate","side","DoubleSide","box","Box3","setFromObject","getCenter","multiplyScalar","children","length","name","includes","opacity","transparent","z","rotation","x","render","afterLoad","window","addEventListener","handleResize","onMouseDown","onMouseUp","animate","rotateSpeed","noPan","noZoom","update","doc","document","getElementById","isScrolledIntoView","el","rect","getBoundingClientRect","elemTop","elemBottom","isVisible","innerHeight","requestAnimationFrame","aspect","updateProjectionMatrix","removeEventListener","removeChild","remove","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Others/Three js/rumbleworlds-master/src/components/Planet/Planet.jsx"],"sourcesContent":["import { useRef, useEffect } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls.js\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\r\nimport model from \"assets/planet/planet.obj\";\r\nimport texture from \"assets/planet/planet_palette.png\";\r\n\r\nvar modelLoaded = false;\r\n\r\nfunction Planet() {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    var world;\r\n    var width, height;\r\n    var controls;\r\n\r\n    var isMouseDown = false;\r\n\r\n    const pivot = new THREE.Group();\r\n    const moon = new THREE.Group();\r\n    const rings = new THREE.Group();\r\n\r\n    const current = ref.current;\r\n    const manager = new THREE.LoadingManager();\r\n\r\n    const scene = new THREE.Scene();\r\n    width = ref.current.clientWidth; // or window.innerWidth;\r\n    height = ref.current.clientHeight; // = window.innerHeight for full screen\r\n    const camera = new THREE.PerspectiveCamera(60, width / height, 1, 100);\r\n\r\n    camera.position.set(0, 0, 4);\r\n\r\n    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n    renderer.setSize(width, height);\r\n    // document.body.appendChild( renderer.domElement );\r\n    // use ref as a mount point of the Three.js scene instead of the document.body\r\n    ref.current.appendChild(renderer.domElement);\r\n\r\n    // add light\r\n\r\n    scene.fog = new THREE.Fog(0xa0a0a0, 1, 100);\r\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x222222, 1);\r\n    hemiLight.position.set(0, 0, -5);\r\n\r\n    const hemiLight2 = new THREE.HemisphereLight(0xeeeeee, 0x222222, 1);\r\n    hemiLight2.position.set(0, 0, 5);\r\n    // scene.add(hemiLight);\r\n    camera.add(hemiLight);\r\n    camera.add(hemiLight2);\r\n    // const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 10);\r\n    // scene.add(hemiLightHelper);\r\n\r\n    const dirLight = new THREE.DirectionalLight(0xffffff);\r\n    dirLight.position.set(0, 0, -50);\r\n    dirLight.castShadow = true;\r\n    dirLight.shadow.camera.right = 100;\r\n    dirLight.shadow.camera.left = -100;\r\n    dirLight.shadow.camera.top = 100;\r\n    dirLight.shadow.camera.bottom = -100;\r\n    // dirLight.lookAt = new Vector3();\r\n    // scene.add(dirLight);\r\n    camera.add(dirLight);\r\n    scene.add(camera);\r\n    const pointLight = new THREE.PointLight(0xffffff, 0.8);\r\n    pointLight.position.y = 5;\r\n    camera.add(pointLight);\r\n\r\n    // renderer.domElement.style.display = \"none\";\r\n\r\n    // add to show light helper\r\n    // const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\r\n    // scene.add(dirLightHelper);\r\n\r\n    // load model\r\n    const loader = new OBJLoader(manager);\r\n    const textureLoader = new THREE.TextureLoader(manager);\r\n\r\n    loader.load(model, function (object) {\r\n      world = object;\r\n      // console.log(world);\r\n\r\n      textureLoader.load(texture, (texture) => {\r\n\r\n        world.traverse(function (child) {\r\n          if (child.isMesh) {\r\n            child.castShadow = true;\r\n            child.receiveShadow = true;\r\n            child.material.map = texture;\r\n            child.material.needsUpdate = true;\r\n            child.material.side = THREE.DoubleSide;\r\n          }\r\n        });\r\n        var box = new THREE.Box3().setFromObject(world);\r\n        box.getCenter(world.position); // this re-sets the mesh position\r\n        world.position.multiplyScalar(-1);\r\n  \r\n        while (world.children.length > 0) {\r\n          let child = world.children[0];\r\n          box.getCenter(child.position); // this re-sets the mesh position\r\n          child.position.multiplyScalar(-1);\r\n          if (\r\n            child.name === \"Icosphere.001_Icosphere.005\" ||\r\n            child.name.includes(\"Moon\")\r\n          ) {\r\n            moon.add(child);\r\n          } else if (child.name.includes(\"Ring\")) {\r\n            rings.add(child);\r\n          } else if (child.name.includes(\"atmosphere_atmosphere_X\")) {\r\n            child.material.opacity = 0.1;\r\n            child.material.transparent = true;\r\n            pivot.add(child);\r\n          } else pivot.add(child);\r\n        }\r\n  \r\n        // console.log(rings);\r\n  \r\n        scene.add(pivot);\r\n        camera.add(rings);\r\n        rings.position.z = -4;\r\n        rings.rotation.y = 20;\r\n        camera.add(moon);\r\n        moon.position.z = -4;\r\n        moon.rotation.y = -2.5;\r\n        moon.rotation.x = -5;\r\n  \r\n        //renderer.compile(scene,camera);\r\n        modelLoaded = true;\r\n        render();\r\n        afterLoad();\r\n      });\r\n\r\n      // setTimeout(() => {\r\n      // }, 2500);\r\n      // renderer.domElement.style.display = \"block\";\r\n    });\r\n\r\n    // manager.onLoad = () => {\r\n    const afterLoad = function() {\r\n      // console.log(\"loaded\");\r\n\r\n      window.addEventListener(\"resize\", handleResize);\r\n      current.addEventListener(\"touchstart\", onMouseDown, false);\r\n      current.addEventListener(\"touchend\", onMouseUp, false);\r\n      current.addEventListener(\"mousedown\", onMouseDown);\r\n      current.addEventListener(\"mouseup\", onMouseUp);\r\n      animate();\r\n    };\r\n\r\n    controls = new TrackballControls(camera, renderer.domElement);\r\n\r\n    controls.rotateSpeed = 2;\r\n    controls.noPan = true;\r\n    controls.noZoom = true;\r\n    controls.update();\r\n\r\n    const doc = document.getElementById('planet_model');\r\n    function isScrolledIntoView(el) {\r\n      var rect = el.getBoundingClientRect();\r\n      var elemTop = rect.top;\r\n      var elemBottom = rect.bottom;\r\n  \r\n      // Only completely visible elements return true:\r\n      // var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);\r\n      var isVisible = elemTop < window.innerHeight && elemBottom >= 0;\r\n      // Partially visible elements return true:\r\n      //isVisible = elemTop < window.innerHeight && elemBottom >= 0;\r\n      return isVisible;\r\n    }\r\n\r\n    // animate\r\n    const animate = function () {\r\n      if (!isMouseDown) {\r\n        pivot.rotation.y += 0.002;\r\n        // moon.rotation.x -= 0.2;\r\n        // moon.rotation.y -= 0.2;\r\n      }\r\n      requestAnimationFrame(animate);\r\n      if(isScrolledIntoView(doc) && modelLoaded){\r\n        moon.rotation.z -= 0.002;\r\n        rings.rotation.y += 0.001;\r\n        controls.update();\r\n        render();\r\n      }\r\n    };\r\n\r\n    const render = () => {\r\n      renderer.render(scene, camera);\r\n    };\r\n\r\n    const handleResize = () => {\r\n      width = ref.current.clientWidth;\r\n      height = ref.current.clientHeight;\r\n      renderer.setSize(width, height);\r\n      camera.aspect = width / height;\r\n      camera.updateProjectionMatrix();\r\n      render();\r\n    };\r\n\r\n    const onMouseDown = () => {\r\n      isMouseDown = true;\r\n    };\r\n\r\n    const onMouseUp = () => {\r\n      isMouseDown = false;\r\n    };\r\n\r\n    return () => {\r\n      // Callback to cleanup three js, cancel animationFrame, etc\r\n\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      current.removeEventListener(\"touchstart\", onMouseDown);\r\n      current.removeEventListener(\"touchend\", onMouseUp);\r\n      current.removeEventListener(\"mousedown\", onMouseDown);\r\n      current.removeEventListener(\"mouseup\", onMouseUp);\r\n      current.removeChild(renderer.domElement);\r\n\r\n      scene.remove(pivot);\r\n      scene.remove(rings);\r\n      scene.remove(moon);\r\n      scene.remove(hemiLight);\r\n      scene.remove(hemiLight2);\r\n      scene.remove(dirLight);\r\n    };\r\n  }, []);\r\n\r\n  return <div className=\"planet\" ref={ref} />;\r\n}\r\n\r\nexport default Planet;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}