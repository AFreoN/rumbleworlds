{"code":"(this[\"webpackJsonprumble-worlds\"]=this[\"webpackJsonprumble-worlds\"]||[]).push([[4],{70:function(e,t,a){},72:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"firstFrameRendered\",function(){return I});var n=a(1),o=a(2),s=a(16),i=a.p+\"static/media/solarmy_nonTex.b04c5e96.glb\",r=a.p+\"static/media/solarmy_diffuse512.3064f037.png\",d=a.p+\"static/media/solien_nonTex.f92e0c2c.glb\",l=a.p+\"static/media/solien_diffuse512.a226f1cf.png\",c=a.p+\"static/media/sunk_nonTex.abd31909.glb\",p=a.p+\"static/media/sunk_diffuse512.720afcef.png\",m=a.p+\"static/media/rumbler_tex512.bf353b66.glb\",u=a.p+\"static/media/solarian_nonTex.b4d78b28.glb\",h=a.p+\"static/media/solarian_diffuse512.6eb047ab.jpg\",f=a(25),w=a(22),g=a(23),b=a.p+\"static/media/Solarmy_MetalRoughMap.df706793.png\",v=a.p+\"static/media/Sunk_MetalRoughness.553a66d4.png\",y=(a(70),a(13)),S=a(0);let M,E=[];const _=new o.O,x=new s.a(_),P=new o.Eb(_),j=new o.k,k=new o.Ob({alpha:!0});var C;k.setClearColor(0,0);var O=[];let U,A,R,L,T,Y,z=[];var H=!1;var B=0,F=!1,I=!1;function D(){++B>=5&&(k.domElement.style.display=\"block\",F=!0,console.log(\"All characters loaded\"))}!function(){U=new o.wb,k.toneMapping=o.ub,k.toneMappingExposure=1,k.shadowMap.enabled=!0,U.fog=new o.u(U.background,1,2e4);const e=new o.y(16777215,4473924,1);e.position.set(0,2,0),e.position.multiplyScalar(1e6);const t=new o.o(16774838,10);t.color.setHSL(.1,1,.95),t.position.multiplyScalar(30);const a=200;t.position.set(-2,2,4),t.position.multiplyScalar(1e3),t.castShadow=!0,t.shadow.camera.top=a,t.shadow.camera.bottom=-a,t.shadow.camera.left=-a,t.shadow.camera.right=a,t.shadow.camera.far=35e3,t.shadow.bias=-1e-4,U.add(t),new o.Bb(11141120).position.set(-10,10,-5);const n=new o.jb(13311,30,40);n.position.set(10,2,0),U.add(n);const s=new o.b(16777215,0);U.add(s),k.domElement.style.display=\"none\",x.load(m,function(e){T=e.scene;const t=new o.d(T);t.clipAction(e.animations[0]).play(),E.push(t),O.push(T),T.traverse(e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),T.position.x=-.5,T.position.y=-1.25,T.rotation.y=.3,T.scale.set(13,13,13),U.add(T),z.push(T),D()}),x.load(i,function(e){A=e.scene;const t=new o.d(A),a=t.clipAction(e.animations[0]);E.push(t),a.play(),O.push(A);const n=new o.O,s=new o.Eb(n);var i,d;s.load(b,e=>{e.flipY=!1,e.needsUpdate=!0,d=e}),s.load(r,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,i=e}),n.onLoad=()=>{A.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.roughness=.9,e.material.metalness=1,e.material.metalnessMap=d,e.material.roughnessMap=d,e.material.map=i,e.material.needsUpdate=!0)}),D()},A.position.set(-.5,-1.5,0),A.rotation.set(0,0,0),A.scale.set(3.6,3.6,3.6),A.name=\"solarmy\",z.push(A)}),x.load(d,function(e){R=e.scene;const t=new o.d(R);t.clipAction(e.animations[0]).play(),E.push(t),O.push(R),P.load(l,e=>{e.flipY=!1,e.encoding=o.Pb,R.traverse(function(t){t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,t.material.roughness=.7,t.material.metalness=.1,t.material.map=e,t.material.needsUpdate=!0)}),D()}),R.position.set(-.5,-1.5,-.6),R.rotation.set(0,.25*Math.PI,0),R.scale.set(2,2,2),z.push(R)}),x.load(c,function(e){L=e.scene;const t=new o.d(L);t.clipAction(e.animations[0]).play(),E.push(t),O.push(L);const a=new o.O,n=new o.Eb(a),s=new o.Eb(a);var i,r;n.load(v,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,i=e}),s.load(p,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,r=e}),a.onLoad=()=>{L.traverse(function(e){e.isMesh&&(e.material.roughness=.9,e.material.metalness=.7,e.material.metalnessMap=i,e.material.roughnessMap=i,e.material.map=r,e.material.needsUpdate=!0)}),D()},L.rotation.set(o.S.degToRad(5),.1*Math.PI,0),L.position.set(-.5,-2.7,-1.2);const d=1.2;L.scale.set(d,d,d),z.push(L)}),x.load(u,function(e){Y=e.scene;const t=new o.d(Y);var a;t.clipAction(e.animations[0]).play(),E.push(t),O.push(Y),P.load(h,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,a=e,Y.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map=a,e.material.roughness=.4,e.material.metalness=.2,e.material.needsUpdate=!0)}),D()}),Y.rotation.set(0,.5,0),Y.position.x=-.25,Y.position.y=-.5,Y.scale.set(1.8,1.8,1.8),z.push(Y)})}();t.default=function(){const e=Object(y.d)(e=>e.characterSelect.character),t=Object(n.useRef)();return Object(n.useEffect)(()=>{const a=t.current;let n=a.clientWidth,s=a.clientHeight;M=new o.ib(90,n/s,1,1e5),M.position.set(0,2.5,4),k.setSize(n,s),a.appendChild(k.domElement),function(e,t){if(H)return;const a=5,n=0,s=1;C=new f.a(k);const i=new w.a(U,M);C.addPass(i);const r=new g.a(new o.Kb(e,t),U,M);r.edgeStrength=a,r.edgeGlow=n,r.edgeThickness=s,r.visibleEdgeColor.set(0),r.hiddenEdgeColor.set(1118481),r.selectedObjects=O,C.addPass(r),H=!0}(n,s),!1!==F&&(0===e&&(U.add(T),U.remove(A),U.remove(R),U.remove(L),U.remove(Y)),1===e&&(U.remove(T),U.add(A),U.remove(R),U.remove(L),U.remove(Y)),2===e&&(U.remove(T),U.remove(A),U.add(R),U.remove(L),U.remove(Y)),3===e&&(U.remove(T),U.remove(A),U.remove(R),U.add(L),U.remove(Y)),4===e&&(U.remove(T),U.remove(A),U.remove(R),U.remove(L),U.add(Y))),_.onLoad=()=>{console.log(\"Calling Render\"),i()};const i=function(){if(requestAnimationFrame(i),function(e){var t=e.getBoundingClientRect(),a=t.top,n=t.bottom;return a<window.innerHeight&&n>=0}(r)&&F){const e=j.getDelta();for(let t=0;t<E.length;t++)E[t].update(e);d()}else if(!1===I){const e=j.getDelta();for(let t=0;t<E.length;t++)E[t].update(e);d()}},r=document.getElementById(\"character_model\");const d=()=>{C.render(),I||(I=!0,console.log(\"First frame rendered\"))},l=()=>{n=t.current.clientWidth,s=t.current.clientHeight,k.setSize(n,s),M.aspect=n/s,M.updateProjectionMatrix(),d()};return window.addEventListener(\"resize\",l),()=>{window.removeEventListener(\"resize\",l),a.removeChild(k.domElement)}},[e]),Object(S.jsx)(\"div\",{ref:t,className:\"Characters\"})}}}]);","name":"static/js/4.d9372273.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","d","firstFrameRendered","react","three_module","GLTFLoader","solarmy_nonTex","p","solarmy_diffuse512","solien_nonTex","solien_diffuse512","sunk_nonTex","sunk_diffuse512","rumbler_tex512","solarian_nonTex","solarian_diffuse512","EffectComposer","RenderPass","OutlinePass","Solarmy_MetalRoughMap","Sunk_MetalRoughness","es","jsx_runtime","camera","mixers","manager","gltfloader","textureLoader","clock","renderer","alpha","composer","setClearColor","selectedObjects","scene","solarmy","solien","sunk","rumbler","solarian","characterList","isPostProcessEnabled","loadedCount","modelsLoaded","mLoaded","domElement","style","display","console","log","toneMapping","toneMappingExposure","shadowMap","enabled","fog","background","hemiLight","position","set","multiplyScalar","dirLight","color","setHSL","castShadow","shadow","top","bottom","left","right","far","bias","add","rimPointLight","ambientLight","load","object","mixer","clipAction","animations","play","traverse","child","isMesh","receiveShadow","x","y","rotation","scale","action","solarmyLoadManager","solarmyTexLoader","diffuseTexture","roughmetalTexture","texture","flipY","needsUpdate","encoding","onLoad","material","roughness","metalness","metalnessMap","roughnessMap","map","name","Math","PI","sunkLoadManager","sunkTexLoader1","sunkTexLoader2","sunkRoughnessTexture","sunkDiffuseTexture","degToRad","diffuseMap","setupScene","character","Object","state","characterSelect","ref","current","width","clientWidth","height","clientHeight","setSize","appendChild","params","renderPass","addPass","outlinePass","edgeStrength","edgeGlow","edgeThickness","visibleEdgeColor","hiddenEdgeColor","setupPostProcessing","remove","animate","requestAnimationFrame","el","rect","getBoundingClientRect","elemTop","elemBottom","window","innerHeight","isScrolledIntoView","doc","delta","getDelta","i","length","update","render","document","getElementById","handleResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","removeChild","className"],"sources":["static/js/4.d9372273.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonprumble-worlds\"] = this[\"webpackJsonprumble-worlds\"] || []).push([[4],{\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"firstFrameRendered\", function() { return /* binding */ firstFrameRendered; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/loaders/GLTFLoader.js\nvar GLTFLoader = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/assets/home/characters/solarmy_nonTex.glb\n/* harmony default export */ var solarmy_nonTex = (__webpack_require__.p + \"static/media/solarmy_nonTex.b04c5e96.glb\");\n// CONCATENATED MODULE: ./src/assets/home/characters/Textures/solarmy_diffuse512.png\n/* harmony default export */ var solarmy_diffuse512 = (__webpack_require__.p + \"static/media/solarmy_diffuse512.3064f037.png\");\n// CONCATENATED MODULE: ./src/assets/home/characters/solien_nonTex.glb\n/* harmony default export */ var solien_nonTex = (__webpack_require__.p + \"static/media/solien_nonTex.f92e0c2c.glb\");\n// CONCATENATED MODULE: ./src/assets/home/characters/Textures/solien_diffuse512.png\n/* harmony default export */ var solien_diffuse512 = (__webpack_require__.p + \"static/media/solien_diffuse512.a226f1cf.png\");\n// CONCATENATED MODULE: ./src/assets/home/characters/sunk_nonTex.glb\n/* harmony default export */ var sunk_nonTex = (__webpack_require__.p + \"static/media/sunk_nonTex.abd31909.glb\");\n// CONCATENATED MODULE: ./src/assets/home/characters/Textures/sunk_diffuse512.png\n/* harmony default export */ var sunk_diffuse512 = (__webpack_require__.p + \"static/media/sunk_diffuse512.720afcef.png\");\n// CONCATENATED MODULE: ./src/assets/home/characters/rumbler_tex512.glb\n/* harmony default export */ var rumbler_tex512 = (__webpack_require__.p + \"static/media/rumbler_tex512.bf353b66.glb\");\n// CONCATENATED MODULE: ./src/assets/home/characters/solarian_nonTex.glb\n/* harmony default export */ var solarian_nonTex = (__webpack_require__.p + \"static/media/solarian_nonTex.b4d78b28.glb\");\n// CONCATENATED MODULE: ./src/assets/home/characters/Textures/solarian_diffuse512.jpg\n/* harmony default export */ var solarian_diffuse512 = (__webpack_require__.p + \"static/media/solarian_diffuse512.6eb047ab.jpg\");\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/EffectComposer.js + 2 modules\nvar EffectComposer = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/RenderPass.js\nvar RenderPass = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/OutlinePass.js\nvar OutlinePass = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/assets/home/characters/Solarmy_MetalRoughMap.png\n/* harmony default export */ var Solarmy_MetalRoughMap = (__webpack_require__.p + \"static/media/Solarmy_MetalRoughMap.df706793.png\");\n// CONCATENATED MODULE: ./src/assets/home/characters/Sunk_MetalRoughness.png\n/* harmony default export */ var Sunk_MetalRoughness = (__webpack_require__.p + \"static/media/Sunk_MetalRoughness.553a66d4.png\");\n// EXTERNAL MODULE: ./src/components/Home/Characters/characters.scss\nvar characters = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Home/Characters/Characters.jsx\n// import { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader.js\";\n// import rumblerModel from \"assets/home/characters/rumbler.glb\";\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_2048.glb\";\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_1024.glb\";\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_1024_512acc.glb\";\n//rumbler_cyclops_256yellow_512all.glb\n//solarian.glb\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\n// import { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader.js';\n// import solarmy_texture from \"assets/home/characters/solarmy_texture.png\";\n// import solien_texture from \"assets/home/characters/solien_texture.png\";\n// import sunk_texture from \"assets/home/characters/sunk_texture.png\";\nlet mixers=[];let camera;const manager=new three_module[\"O\" /* LoadingManager */]();// load model\n//const loader = new FBXLoader(manager);\nconst gltfloader=new GLTFLoader[\"a\" /* GLTFLoader */](manager);const textureLoader=new three_module[\"Eb\" /* TextureLoader */](manager);const clock=new three_module[\"k\" /* Clock */]();const renderer=new three_module[\"Ob\" /* WebGLRenderer */]({alpha:true});renderer.setClearColor(0x000000,0);var composer;var selectedObjects=[];let scene;let characterList=[];let solarmy,solien,sunk,rumbler,solarian;var isPostProcessEnabled=false;const characterCount=5;var loadedCount=0;var modelsLoaded=false;var firstFrameRendered=false;function setupScene(){scene=new three_module[\"wb\" /* Scene */]();//   camera.position.multiplyScalar(30);\n//   camera.rotation.set(50, 0, 0);\nrenderer.toneMapping=three_module[\"ub\" /* ReinhardToneMapping */];renderer.toneMappingExposure=1;renderer.shadowMap.enabled=true;// renderer.outputEncoding = THREE.sRGBEncoding;\n// renderer.setClearColor(0xffffff, 0);\n// scene.background = new THREE.Color(0x999999);\n// scene.background = new THREE.Color().setHSL(0.6, 0, 1);\n// document.body.appendChild( renderer.domElement );\n// use ref as a mount point of the Three.js scene instead of the document.body\n// add light\n// scene.fog = new THREE.Fog(0xa0a0a0, 1, 2000);\nscene.fog=new three_module[\"u\" /* Fog */](scene.background,1,20000);const hemiLight=new three_module[\"y\" /* HemisphereLight */](0xffffff,0x444444,1);hemiLight.position.set(0,2,0);hemiLight.position.multiplyScalar(1000000);// hemiLight.color.setHSL(0.6, 0.6, 0.6);\n// hemiLight.groundColor.setHSL(0.095, 1, 0.75);\n//scene.add(hemiLight);\n// add to show light helper\nconst dirLight=new three_module[\"o\" /* DirectionalLight */](0xFFF6B6,10);//prev 1.5 in default tone mapping\ndirLight.color.setHSL(0.1,1,0.95);dirLight.position.multiplyScalar(30);const d=200;dirLight.position.set(-2,2,4);//prev (1, 2, 1)\ndirLight.position.multiplyScalar(1000);dirLight.castShadow=true;dirLight.shadow.camera.top=d;dirLight.shadow.camera.bottom=-d;dirLight.shadow.camera.left=-d;dirLight.shadow.camera.right=d;// dirLight.shadow.camera.near = 0.1;\n// dirLight.shadow.camera.far = 100;\ndirLight.shadow.camera.far=35000;dirLight.shadow.bias=-0.0001;scene.add(dirLight);const spotLight=new three_module[\"Bb\" /* SpotLight */](0xaa0000);spotLight.position.set(-10,10,-5);//scene.add( spotLight );\n// const redPointLightRadius = 15;   //5\n// const redpointLight = new THREE.PointLight( 0xff0000, redPointLightRadius , 40 );\n// redpointLight.position.set( -7, 1, -1 );\n// scene.add( redpointLight );\nconst rimLightSize=30;//8\nconst rimPointLight=new three_module[\"jb\" /* PointLight */](0x0033FF,rimLightSize,40);rimPointLight.position.set(10,2,0);scene.add(rimPointLight);const ambientLight=new three_module[\"b\" /* AmbientLight */](0xffffff,0);// soft white light\nscene.add(ambientLight);renderer.domElement.style.display=\"none\";// add to show light helper\n// const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\n// scene.add(dirLightHelper);\n// const groundGeo = new THREE.PlaneGeometry(100000, 100000);\n// const groundMat = new THREE.MeshLambertMaterial({ color: 0xffffff });\n// groundMat.color.setHSL(0.095, 1, 0.75);\n// const ground = new THREE.Mesh(groundGeo, groundMat);\n// ground.rotation.x = -Math.PI / 2;\n// ground.receiveShadow = true;\n// scene.add(ground);\nLoadModels();}function setupPostProcessing(width,height){if(isPostProcessEnabled){return;}const params={edgeStrength:5.0,//3\nedgeGlow:0.0,//0\nedgeThickness:1.0,//1\npulsePeriod:0,rotate:false,usePatternTexture:false};composer=new EffectComposer[\"a\" /* EffectComposer */](renderer);const renderPass=new RenderPass[\"a\" /* RenderPass */](scene,camera);composer.addPass(renderPass);const outlinePass=new OutlinePass[\"a\" /* OutlinePass */](new three_module[\"Kb\" /* Vector2 */](width,height),scene,camera);outlinePass.edgeStrength=params.edgeStrength;outlinePass.edgeGlow=params.edgeGlow;outlinePass.edgeThickness=params.edgeThickness;outlinePass.visibleEdgeColor.set(0x000000);outlinePass.hiddenEdgeColor.set(0x111111);outlinePass.selectedObjects=selectedObjects;composer.addPass(outlinePass);isPostProcessEnabled=true;}function LoadModels(){gltfloader.load(rumbler_tex512,function(object){rumbler=object.scene;// console.log(\"rumbler loaded\");\nconst mixer=new three_module[\"d\" /* AnimationMixer */](rumbler);const action=mixer.clipAction(object.animations[0]);action.play();mixers.push(mixer);selectedObjects.push(rumbler);rumbler.traverse(child=>{if(child.isMesh){child.castShadow=true;child.receiveShadow=true;}});// selectedObjects.traverse((obj) => {\n//   console.log('traversed properly');\n// })\n// const tgaLoader = new TGALoader(manager);\n// const texture1 = tgaLoader.load(rumbler_cyclops_base_color);\n// const texture2 = tgaLoader.load(rumbler_cyclops_texture);\n// rumbler.traverse(function (child) {\n//   if (child.isMesh) {\n//     child.castShadow = true;\n//     child.receiveShadow = true;\n//     child.material.map = texture1;\n//     child.material.needsUpdate = true;\n//     if (\n//       child.name.includes(\"Metal\") ||\n//       child.name.includes(\"Armor\") ||\n//       child.name.includes(\"Thumb\") ||\n//       child.name.includes(\"ShoulderPad\") ||\n//       child.name.includes(\"Index\") ||\n//       child.name.includes(\"Pinky\")\n//     ) {\n//       var x = child.material.clone();\n//       x.map = texture2;\n//       x.needsUpdate = true;\n//       child.material = x;\n//     }\n//   }\n// });\n// rumbler.rotation.set(0, -50, 0);\n// rumbler.rotation.set(0, 1, 0);\nrumbler.position.x=-0.5;rumbler.position.y=-1.25;rumbler.rotation.y=0.3;rumbler.scale.set(13,13,13);//prev 11\n// rumbler.visible = false; \nscene.add(rumbler);characterList.push(rumbler);mLoaded();});LoadRemainingModels();}function LoadRemainingModels(){gltfloader.load(solarmy_nonTex,function(object){solarmy=object.scene;// console.log('solarmy loaded');\nconst mixer=new three_module[\"d\" /* AnimationMixer */](solarmy);const action=mixer.clipAction(object.animations[0]);mixers.push(mixer);action.play();selectedObjects.push(solarmy);const solarmyLoadManager=new three_module[\"O\" /* LoadingManager */]();const solarmyTexLoader=new three_module[\"Eb\" /* TextureLoader */](solarmyLoadManager);// const solarmyTexLoader2 = new THREE.TextureLoader(solarmyLoadManager);\nvar diffuseTexture,roughmetalTexture;solarmyTexLoader.load(Solarmy_MetalRoughMap,texture=>{texture.flipY=false;texture.needsUpdate=true;roughmetalTexture=texture;});solarmyTexLoader.load(solarmy_diffuse512,texture=>{texture.flipY=false;texture.encoding=three_module[\"Pb\" /* sRGBEncoding */];texture.needsUpdate=true;diffuseTexture=texture;});solarmyLoadManager.onLoad=()=>{solarmy.traverse(function(child){if(child.isMesh){child.castShadow=true;child.receiveShadow=true;// child.material.roughness = 0;\nchild.material.roughness=0.9;child.material.metalness=1;child.material.metalnessMap=roughmetalTexture;child.material.roughnessMap=roughmetalTexture;child.material.map=diffuseTexture;child.material.needsUpdate=true;// textureLoader.load(Solarmy_metalroughness_texture, (texture) => {\n//   texture.flipY = false;\n//   texture.needsUpdate = true;\n//   child.material.metalnessMap = texture;\n//   child.material.roughnessMap = texture;\n//   child.material.needsUpdate = true;\n// });\n// textureLoader.load(solarmyDiffuse, (texture) => {\n//   texture.flipY = false;\n//   texture.encoding = THREE.sRGBEncoding;\n//   texture.needsUpdate = true;\n//   child.material.map = texture;\n//   child.material.needsUpdate = true;\n// })\n}});mLoaded();};solarmy.position.set(-0.5,-1.5,0);solarmy.rotation.set(0,0,0);solarmy.scale.set(3.6,3.6,3.6);//prev 3\nsolarmy.name=\"solarmy\";characterList.push(solarmy);});gltfloader.load(solien_nonTex,function(object){solien=object.scene;// console.log('solien loaded');\nconst mixer=new three_module[\"d\" /* AnimationMixer */](solien);const action=mixer.clipAction(object.animations[0]);action.play();mixers.push(mixer);selectedObjects.push(solien);textureLoader.load(solien_diffuse512,texture=>{texture.flipY=false;texture.encoding=three_module[\"Pb\" /* sRGBEncoding */];solien.traverse(function(child){if(child.isMesh){child.castShadow=true;child.receiveShadow=true;child.material.roughness=0.7;child.material.metalness=0.1;child.material.map=texture;child.material.needsUpdate=true;}});// child.material.side = THREE.DoubleSide;\n// child.material.dithering = true;\nmLoaded();});solien.position.set(-0.5,-1.5,-0.6);//prev (0, 0.5, -0.6)\nsolien.rotation.set(0,Math.PI*0.25,0);solien.scale.set(2,2,2);//prev (1.6, 1.6, 1.6)\n// solien.visible = false;\ncharacterList.push(solien);});gltfloader.load(sunk_nonTex,function(object){sunk=object.scene;// console.log('sunk loaded');\nconst mixer=new three_module[\"d\" /* AnimationMixer */](sunk);const action=mixer.clipAction(object.animations[0]);action.play();mixers.push(mixer);selectedObjects.push(sunk);const sunkLoadManager=new three_module[\"O\" /* LoadingManager */]();const sunkTexLoader1=new three_module[\"Eb\" /* TextureLoader */](sunkLoadManager);const sunkTexLoader2=new three_module[\"Eb\" /* TextureLoader */](sunkLoadManager);var sunkRoughnessTexture,sunkDiffuseTexture;sunkTexLoader1.load(Sunk_MetalRoughness,texture=>{texture.flipY=false;texture.encoding=three_module[\"Pb\" /* sRGBEncoding */];texture.needsUpdate=true;sunkRoughnessTexture=texture;});sunkTexLoader2.load(sunk_diffuse512,texture=>{texture.flipY=false;texture.encoding=three_module[\"Pb\" /* sRGBEncoding */];texture.needsUpdate=true;sunkDiffuseTexture=texture;});sunkLoadManager.onLoad=()=>{sunk.traverse(function(child){if(child.isMesh){child.material.roughness=0.9;child.material.metalness=0.7;child.material.metalnessMap=sunkRoughnessTexture;child.material.roughnessMap=sunkRoughnessTexture;child.material.map=sunkDiffuseTexture;child.material.needsUpdate=true;// textureLoader.load(Sunk_metalroughness_texture, (texture) => {\n//   texture.flipY = false;\n//   texture.needsUpdate = true;\n//   child.material.metalnessMap = texture;\n//   child.material.roughnessMap = texture;\n//   child.material.needsUpdate = true;\n// });\n// textureLoader.load(sunkDiffuse, (texture) => {\n//   texture.flipY = false;\n//   texture.encoding = THREE.sRGBEncoding;\n//   child.material.map = texture;\n//   child.material.needsUpdate = true;\n// })\n}});mLoaded();};// sunk.rotation.set(0, -50, 0);\nsunk.rotation.set(three_module[\"S\" /* MathUtils */].degToRad(5),Math.PI*0.1,0);sunk.position.set(-0.5,-2.7,-1.2);//prev (0,-0.5,-1)\nconst scale=1.2;//1.2\nsunk.scale.set(scale,scale,scale);//prev (1.2, 1.2, 1.2)\n// sunk.visible = false;\ncharacterList.push(sunk);});gltfloader.load(solarian_nonTex,function(object){solarian=object.scene;const mixer=new three_module[\"d\" /* AnimationMixer */](solarian);const action=mixer.clipAction(object.animations[0]);action.play();mixers.push(mixer);selectedObjects.push(solarian);// console.log('solarian loaded');\nvar diffuseMap;textureLoader.load(solarian_diffuse512,texture=>{texture.flipY=false;texture.encoding=three_module[\"Pb\" /* sRGBEncoding */];texture.needsUpdate=true;diffuseMap=texture;solarian.traverse(function(child){if(child.isMesh){child.castShadow=true;child.receiveShadow=true;child.material.map=diffuseMap;child.material.roughness=0.4;child.material.metalness=0.2;child.material.needsUpdate=true;// textureLoader.load(solarian_texture, (texture) => {\n//   child.material.map = texture;\n//   child.material.needsUpdate = true;\n// });\n}});mLoaded();});// solarian.rotation.set(0, -50, 0);\nsolarian.rotation.set(0,0.5,0);//prev (0, 0.5, 0)\nsolarian.position.x=-0.25;solarian.position.y=-0.5;//prev 0.7\nsolarian.scale.set(1.8,1.8,1.8);//prev (2,2,2)\n// solarian.visible = false;\ncharacterList.push(solarian);});}function mLoaded(){loadedCount++;if(loadedCount>=characterCount){renderer.domElement.style.display=\"block\";modelsLoaded=true;console.log(\"All characters loaded\");// setTimeout(() => {\n//   console.log(\"Timeout completed\");\n// }, 10000);\n// // composer.render();\n}}setupScene();// function sleep(milliseconds) {\n//   const date = Date.now();\n//   let currentDate = null;\n//   do {\n//     currentDate = Date.now();\n//   } while (currentDate - date < milliseconds);\n// }\n// console.log(\"before sleep\");\n// sleep(10000);\n// console.log(\"after sleep\");\nfunction Characters(){const character=Object(es[\"d\" /* useSelector */])(state=>state.characterSelect.character);const ref=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(()=>{const current=ref.current;let width=current.clientWidth;// or window.innerWidth;\nlet height=current.clientHeight;// = window.innerHeight for full screen\nconst init=()=>{camera=new three_module[\"ib\" /* PerspectiveCamera */](90,width/height,1,100000);camera.position.set(0,2.5,4);renderer.setSize(width,height);current.appendChild(renderer.domElement);setupPostProcessing(width,height);if(modelsLoaded===false)return;if(character===0){scene.add(rumbler);scene.remove(solarmy);scene.remove(solien);scene.remove(sunk);scene.remove(solarian);}if(character===1){scene.remove(rumbler);scene.add(solarmy);scene.remove(solien);scene.remove(sunk);scene.remove(solarian);}if(character===2){scene.remove(rumbler);scene.remove(solarmy);scene.add(solien);scene.remove(sunk);scene.remove(solarian);}if(character===3){scene.remove(rumbler);scene.remove(solarmy);scene.remove(solien);scene.add(sunk);scene.remove(solarian);}if(character===4){scene.remove(rumbler);scene.remove(solarmy);scene.remove(solien);scene.remove(sunk);scene.add(solarian);}};init();manager.onLoad=()=>{console.log(\"Calling Render\");animate();};// animate\nconst animate=function(){requestAnimationFrame(animate);// characterChange();\nif(isScrolledIntoView(doc)&&modelsLoaded){const delta=clock.getDelta();for(let i=0;i<mixers.length;i++){mixers[i].update(delta);}render();}else if(firstFrameRendered===false){const delta=clock.getDelta();for(let i=0;i<mixers.length;i++){mixers[i].update(delta);}render();}};const doc=document.getElementById('character_model');function isScrolledIntoView(el){var rect=el.getBoundingClientRect();var elemTop=rect.top;var elemBottom=rect.bottom;var isVisible=elemTop<window.innerHeight&&elemBottom>=0;return isVisible;}const render=()=>{//renderer.render(scene, camera);\ncomposer.render();if(!firstFrameRendered){firstFrameRendered=true;console.log(\"First frame rendered\");}};const handleResize=()=>{width=ref.current.clientWidth;height=ref.current.clientHeight;// height = 500;\nrenderer.setSize(width,height);camera.aspect=width/height;camera.updateProjectionMatrix();render();};//#region Old props code\n// props.store.subscribe((data) => {\n//   console.log(data.characterSelect.character);\n//   if (currentCharIndex === data.characterSelect.character) {\n//     console.log(\"Same character\");\n//     return;\n//   }\n//   for (let i = 0; i < characterList.length; i++) {\n//     characterList[i].visible = false;\n//     if (i === data.characterSelect.character) {\n//       console.log(\"Change character!\");\n//       characterList[i].visible = true;\n//       currentCharIndex = i;\n//     }\n//   }\n// });\n// const characterChange = () => {\n//   console.log(character.character);\n//   if (currentCharIndex === character.character) {\n//     console.log(\"Same character\");\n//     return;\n//   }\n//   for (let i = 0; i < characterList.length; i++) {\n//     characterList[i].visible = false;\n//     if (i === character.character) {\n//       console.log(\"Change character!\");\n//       characterList[i].visible = true;\n//       currentCharIndex = i;\n//     }\n//   }\n// };\n//#endregion\nwindow.addEventListener(\"resize\",handleResize);return()=>{// Callback to cleanup three js, cancel animationFrame, etc\nwindow.removeEventListener(\"resize\",handleResize);current.removeChild(renderer.domElement);};},[character]);// console.log(\"returned character\");\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:ref,className:\"Characters\"});}/* harmony default export */ var Characters_Characters = __webpack_exports__[\"default\"] = (Characters);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:\\Others\\Three js\\rumbleworlds\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!D:\\Others\\Three js\\rumbleworlds\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!D:\\Others\\Three js\\rumbleworlds\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\Others\\Three js\\rumbleworlds\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!D:\\Others\\Three js\\rumbleworlds\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!D:\\Others\\Three js\\rumbleworlds\\src\\components\\Home\\Characters\\characters.scss","D:\\Others\\Three js\\rumbleworlds\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\solarmy_nonTex.glb","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Textures\\solarmy_diffuse512.png","D:\\Others\\Three js\\rumbleworlds\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\solien_nonTex.glb","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Textures\\solien_diffuse512.png","D:\\Others\\Three js\\rumbleworlds\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\sunk_nonTex.glb","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Textures\\sunk_diffuse512.png","D:\\Others\\Three js\\rumbleworlds\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\rumbler_tex512.glb","D:\\Others\\Three js\\rumbleworlds\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\solarian_nonTex.glb","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Textures\\solarian_diffuse512.jpg","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Solarmy_MetalRoughMap.png","D:\\Others\\Three js\\rumbleworlds\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\Others\\Three js\\rumbleworlds\\src\\assets\\home\\characters\\Sunk_MetalRoughness.png","D:/Others/Three js/rumbleworlds/src/components/Home/Characters/Characters.jsx"],"names":["mixers","camera","manager","THREE","gltfloader","GLTFLoader","textureLoader","clock","renderer","alpha","setClearColor","composer","selectedObjects","scene","characterList","solarmy","solien","sunk","rumbler","solarian","isPostProcessEnabled","characterCount","loadedCount","modelsLoaded","firstFrameRendered","setupScene","toneMapping","toneMappingExposure","shadowMap","enabled","fog","background","hemiLight","position","set","multiplyScalar","dirLight","color","setHSL","d","castShadow","shadow","top","bottom","left","right","far","bias","add","spotLight","rimLightSize","rimPointLight","ambientLight","domElement","style","display","LoadModels","setupPostProcessing","width","height","params","edgeStrength","edgeGlow","edgeThickness","pulsePeriod","rotate","usePatternTexture","EffectComposer","renderPass","RenderPass","addPass","outlinePass","OutlinePass","visibleEdgeColor","hiddenEdgeColor","load","rumblerModel","object","mixer","action","clipAction","animations","play","push","traverse","child","isMesh","receiveShadow","x","y","rotation","scale","mLoaded","LoadRemainingModels","solarmyModel","solarmyLoadManager","solarmyTexLoader","diffuseTexture","roughmetalTexture","Solarmy_metalroughness_texture","texture","flipY","needsUpdate","solarmyDiffuse","encoding","onLoad","material","roughness","metalness","metalnessMap","roughnessMap","map","name","solienModel","solienDiffuse","Math","PI","sunkModel","sunkLoadManager","sunkTexLoader1","sunkTexLoader2","sunkRoughnessTexture","sunkDiffuseTexture","Sunk_metalroughness_texture","sunkDiffuse","degToRad","solarianModel","diffuseMap","solarianDiffuse","console","log","Characters","character","useSelector","state","characterSelect","ref","useRef","useEffect","current","clientWidth","clientHeight","init","setSize","appendChild","remove","animate","requestAnimationFrame","isScrolledIntoView","doc","delta","getDelta","i","length","update","render","document","getElementById","el","rect","getBoundingClientRect","elemTop","elemBottom","isVisible","window","innerHeight","handleResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","removeChild","_jsx","className"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/solarmy_nonTex.b04c5e96.glb\";","export default __webpack_public_path__ + \"static/media/solarmy_diffuse512.3064f037.png\";","export default __webpack_public_path__ + \"static/media/solien_nonTex.f92e0c2c.glb\";","export default __webpack_public_path__ + \"static/media/solien_diffuse512.a226f1cf.png\";","export default __webpack_public_path__ + \"static/media/sunk_nonTex.abd31909.glb\";","export default __webpack_public_path__ + \"static/media/sunk_diffuse512.720afcef.png\";","export default __webpack_public_path__ + \"static/media/rumbler_tex512.bf353b66.glb\";","export default __webpack_public_path__ + \"static/media/solarian_nonTex.b4d78b28.glb\";","export default __webpack_public_path__ + \"static/media/solarian_diffuse512.6eb047ab.jpg\";","export default __webpack_public_path__ + \"static/media/Solarmy_MetalRoughMap.df706793.png\";","export default __webpack_public_path__ + \"static/media/Sunk_MetalRoughness.553a66d4.png\";","import { useRef, useEffect } from \"react\";\r\nimport * as THREE from \"three\";\r\n// import { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader.js\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\n\r\nimport solarmyModel from \"assets/home/characters/solarmy_nonTex.glb\";\r\nimport solarmyDiffuse from \"assets/home/characters/Textures/solarmy_diffuse512.png\";\r\n\r\nimport solienModel from \"assets/home/characters/solien_nonTex.glb\";\r\nimport solienDiffuse from \"assets/home/characters/Textures/solien_diffuse512.png\";\r\n\r\nimport sunkModel from \"assets/home/characters/sunk_nonTex.glb\";\r\nimport sunkDiffuse from \"assets/home/characters/Textures/sunk_diffuse512.png\";\r\n// import rumblerModel from \"assets/home/characters/rumbler.glb\";\r\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_2048.glb\";\r\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_1024.glb\";\r\n// import rumblerModel from \"assets/home/characters/rumbler_cyclops_1024_512acc.glb\";\r\nimport rumblerModel from \"assets/home/characters/rumbler_tex512.glb\"; //rumbler_cyclops_256yellow_512all.glb\r\n\r\nimport solarianModel from \"assets/home/characters/solarian_nonTex.glb\";  //solarian.glb\r\nimport solarianDiffuse from \"assets/home/characters/Textures/solarian_diffuse512.jpg\"\r\n\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass.js';\r\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\r\n// import { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader.js';\r\n\r\n// import solarmy_texture from \"assets/home/characters/solarmy_texture.png\";\r\nimport Solarmy_metalroughness_texture from \"assets/home/characters/Solarmy_MetalRoughMap.png\";\r\nimport Sunk_metalroughness_texture from \"assets/home/characters/Sunk_MetalRoughness.png\";\r\n// import solien_texture from \"assets/home/characters/solien_texture.png\";\r\n// import sunk_texture from \"assets/home/characters/sunk_texture.png\";\r\nimport \"./characters.scss\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nlet mixers = [];\r\nlet camera;\r\nconst manager = new THREE.LoadingManager();\r\n// load model\r\n//const loader = new FBXLoader(manager);\r\nconst gltfloader = new GLTFLoader(manager);\r\nconst textureLoader = new THREE.TextureLoader(manager);\r\n\r\nconst clock = new THREE.Clock();\r\n\r\nconst renderer = new THREE.WebGLRenderer({ alpha: true });\r\nrenderer.setClearColor(0x000000, 0);\r\n\r\nvar composer;\r\nvar selectedObjects  = [];\r\n\r\nlet scene;\r\nlet characterList = [];\r\nlet solarmy, solien, sunk, rumbler, solarian;\r\n\r\nvar isPostProcessEnabled = false;\r\nconst characterCount = 5;\r\nvar loadedCount = 0;\r\nvar modelsLoaded = false;\r\nexport var firstFrameRendered = false;\r\n\r\nfunction setupScene(){\r\n  scene = new THREE.Scene();\r\n\r\n    //   camera.position.multiplyScalar(30);\r\n  //   camera.rotation.set(50, 0, 0);\r\n  renderer.toneMapping = THREE.ReinhardToneMapping;\r\n  renderer.toneMappingExposure = 1;\r\n  renderer.shadowMap.enabled = true;\r\n  // renderer.outputEncoding = THREE.sRGBEncoding;\r\n  // renderer.setClearColor(0xffffff, 0);\r\n  // scene.background = new THREE.Color(0x999999);\r\n  // scene.background = new THREE.Color().setHSL(0.6, 0, 1);\r\n\r\n  // document.body.appendChild( renderer.domElement );\r\n  // use ref as a mount point of the Three.js scene instead of the document.body\r\n\r\n  // add light\r\n  // scene.fog = new THREE.Fog(0xa0a0a0, 1, 2000);\r\n  scene.fog = new THREE.Fog(scene.background, 1, 20000);\r\n  const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444, 1);\r\n  hemiLight.position.set(0, 2, 0);\r\n  hemiLight.position.multiplyScalar(1000000);\r\n  // hemiLight.color.setHSL(0.6, 0.6, 0.6);\r\n  // hemiLight.groundColor.setHSL(0.095, 1, 0.75);\r\n  //scene.add(hemiLight);\r\n  // add to show light helper\r\n\r\n  const dirLight = new THREE.DirectionalLight(0xFFF6B6, 10);   //prev 1.5 in default tone mapping\r\n  dirLight.color.setHSL(0.1, 1, 0.95);\r\n  dirLight.position.multiplyScalar(30);\r\n  const d = 200;\r\n  dirLight.position.set(-2, 2, 4);   //prev (1, 2, 1)\r\n  dirLight.position.multiplyScalar(1000);\r\n  dirLight.castShadow = true;\r\n  dirLight.shadow.camera.top = d;\r\n  dirLight.shadow.camera.bottom = -d;\r\n  dirLight.shadow.camera.left = -d;\r\n  dirLight.shadow.camera.right = d;\r\n  // dirLight.shadow.camera.near = 0.1;\r\n  // dirLight.shadow.camera.far = 100;\r\n  dirLight.shadow.camera.far = 35000;\r\n  dirLight.shadow.bias = -0.0001;\r\n  scene.add(dirLight);\r\n  \r\n  const spotLight = new THREE.SpotLight( 0xaa0000 );\r\n  spotLight.position.set( -10, 10, -5 );\r\n  //scene.add( spotLight );\r\n\r\n  // const redPointLightRadius = 15;   //5\r\n  // const redpointLight = new THREE.PointLight( 0xff0000, redPointLightRadius , 40 );\r\n  // redpointLight.position.set( -7, 1, -1 );\r\n  // scene.add( redpointLight );\r\n\r\n  const rimLightSize = 30;   //8\r\n  const rimPointLight = new THREE.PointLight( 0x0033FF, rimLightSize, 40);\r\n  rimPointLight.position.set( 10, 2, 0);\r\n  scene.add( rimPointLight );\r\n\r\n  const ambientLight = new THREE.AmbientLight( 0xffffff, 0 ); // soft white light\r\n  scene.add( ambientLight );\r\n\r\n  renderer.domElement.style.display = \"none\";\r\n  // add to show light helper\r\n  // const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\r\n  // scene.add(dirLightHelper);\r\n  // const groundGeo = new THREE.PlaneGeometry(100000, 100000);\r\n  // const groundMat = new THREE.MeshLambertMaterial({ color: 0xffffff });\r\n  // groundMat.color.setHSL(0.095, 1, 0.75);\r\n  // const ground = new THREE.Mesh(groundGeo, groundMat);\r\n  // ground.rotation.x = -Math.PI / 2;\r\n  // ground.receiveShadow = true;\r\n  // scene.add(ground);\r\n  LoadModels();\r\n}\r\n\r\nfunction setupPostProcessing(width, height){\r\n  if(isPostProcessEnabled){\r\n    return;\r\n  }\r\n\r\n  const params = {\r\n    edgeStrength: 5.0,  //3\r\n    edgeGlow: 0.0,  //0\r\n    edgeThickness: 1.0, //1\r\n    pulsePeriod: 0,\r\n    rotate: false,\r\n    usePatternTexture: false\r\n  };\r\n\r\n  composer = new EffectComposer( renderer );\r\n\r\n\tconst renderPass = new RenderPass( scene, camera );\r\n\tcomposer.addPass( renderPass );\r\n\r\n\tconst outlinePass = new OutlinePass( new THREE.Vector2( width, height ), scene, camera );\r\n  outlinePass.edgeStrength = params.edgeStrength;\r\n  outlinePass.edgeGlow = params.edgeGlow;\r\n  outlinePass.edgeThickness = params.edgeThickness;\r\n  outlinePass.visibleEdgeColor.set(0x000000);\r\n  outlinePass.hiddenEdgeColor.set(0x111111);\r\n  outlinePass.selectedObjects = selectedObjects;\r\n\tcomposer.addPass( outlinePass );\r\n\r\n  isPostProcessEnabled = true;\r\n}\r\n\r\nfunction LoadModels(){\r\n  \r\n  gltfloader.load(rumblerModel, function (object) {\r\n    rumbler = object.scene;\r\n    // console.log(\"rumbler loaded\");\r\n    const mixer = new THREE.AnimationMixer(rumbler);\r\n    const action = mixer.clipAction(object.animations[0]);\r\n    action.play();\r\n    mixers.push(mixer);\r\n    selectedObjects.push(rumbler);\r\n\r\n    rumbler.traverse((child) => {\r\n      if(child.isMesh){\r\n        child.castShadow = true;\r\n        child.receiveShadow = true;\r\n      }\r\n    });\r\n    // selectedObjects.traverse((obj) => {\r\n    //   console.log('traversed properly');\r\n    // })\r\n    // const tgaLoader = new TGALoader(manager);\r\n\r\n    // const texture1 = tgaLoader.load(rumbler_cyclops_base_color);\r\n    // const texture2 = tgaLoader.load(rumbler_cyclops_texture);\r\n\r\n    // rumbler.traverse(function (child) {\r\n    //   if (child.isMesh) {\r\n    //     child.castShadow = true;\r\n    //     child.receiveShadow = true;\r\n    //     child.material.map = texture1;\r\n    //     child.material.needsUpdate = true;\r\n\r\n    //     if (\r\n    //       child.name.includes(\"Metal\") ||\r\n    //       child.name.includes(\"Armor\") ||\r\n    //       child.name.includes(\"Thumb\") ||\r\n    //       child.name.includes(\"ShoulderPad\") ||\r\n    //       child.name.includes(\"Index\") ||\r\n    //       child.name.includes(\"Pinky\")\r\n    //     ) {\r\n    //       var x = child.material.clone();\r\n    //       x.map = texture2;\r\n    //       x.needsUpdate = true;\r\n    //       child.material = x;\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    // rumbler.rotation.set(0, -50, 0);\r\n    // rumbler.rotation.set(0, 1, 0);\r\n    rumbler.position.x = -0.5;\r\n    rumbler.position.y = -1.25;\r\n    rumbler.rotation.y = 0.3;\r\n    rumbler.scale.set(13, 13, 13);  //prev 11\r\n    // rumbler.visible = false; \r\n\r\n    scene.add(rumbler);\r\n    characterList.push(rumbler);\r\n    mLoaded();\r\n  });\r\n  \r\n  LoadRemainingModels();\r\n}\r\nfunction LoadRemainingModels(){\r\n  \r\n  gltfloader.load(solarmyModel, function (object) {\r\n    solarmy = object.scene;\r\n    // console.log('solarmy loaded');\r\n    const mixer = new THREE.AnimationMixer(solarmy);\r\n    const action = mixer.clipAction(object.animations[0]);\r\n    mixers.push(mixer);\r\n    action.play();\r\n    selectedObjects.push(solarmy);\r\n\r\n    const solarmyLoadManager = new THREE.LoadingManager();\r\n    const solarmyTexLoader = new THREE.TextureLoader(solarmyLoadManager);\r\n    // const solarmyTexLoader2 = new THREE.TextureLoader(solarmyLoadManager);\r\n    var diffuseTexture, roughmetalTexture;\r\n\r\n    solarmyTexLoader.load(Solarmy_metalroughness_texture, (texture) => {\r\n      texture.flipY = false;\r\n      texture.needsUpdate = true;\r\n      roughmetalTexture = texture;\r\n    });\r\n    \r\n    solarmyTexLoader.load(solarmyDiffuse, (texture) => {\r\n      texture.flipY = false;\r\n      texture.encoding = THREE.sRGBEncoding;\r\n      texture.needsUpdate = true;\r\n      diffuseTexture = texture;\r\n    })\r\n\r\n    solarmyLoadManager.onLoad = () => {\r\n\r\n      solarmy.traverse(function (child) {\r\n        if (child.isMesh) {\r\n          child.castShadow = true;\r\n          child.receiveShadow = true;\r\n          // child.material.roughness = 0;\r\n          child.material.roughness = 0.9;\r\n          child.material.metalness = 1;\r\n          child.material.metalnessMap = roughmetalTexture;\r\n          child.material.roughnessMap = roughmetalTexture;\r\n          child.material.map = diffuseTexture;\r\n          child.material.needsUpdate = true;\r\n\r\n          // textureLoader.load(Solarmy_metalroughness_texture, (texture) => {\r\n          //   texture.flipY = false;\r\n          //   texture.needsUpdate = true;\r\n          //   child.material.metalnessMap = texture;\r\n          //   child.material.roughnessMap = texture;\r\n          //   child.material.needsUpdate = true;\r\n          // });\r\n          // textureLoader.load(solarmyDiffuse, (texture) => {\r\n          //   texture.flipY = false;\r\n          //   texture.encoding = THREE.sRGBEncoding;\r\n          //   texture.needsUpdate = true;\r\n          //   child.material.map = texture;\r\n          //   child.material.needsUpdate = true;\r\n          // })\r\n        }\r\n      });\r\n\r\n      mLoaded();\r\n    }\r\n\r\n\r\n    solarmy.position.set(-0.5, -1.5, 0);\r\n\r\n    solarmy.rotation.set(0, 0, 0);\r\n    solarmy.scale.set(3.6, 3.6, 3.6); //prev 3\r\n\r\n    solarmy.name = \"solarmy\";\r\n\r\n    characterList.push(solarmy);\r\n  });\r\n\r\n  gltfloader.load(solienModel, function (object) {\r\n    solien = object.scene;\r\n    // console.log('solien loaded');\r\n    const mixer = new THREE.AnimationMixer(solien);\r\n    const action = mixer.clipAction(object.animations[0]);\r\n    action.play();\r\n    mixers.push(mixer);\r\n    selectedObjects.push(solien);\r\n\r\n    textureLoader.load(solienDiffuse, (texture) => {\r\n      texture.flipY = false;\r\n      texture.encoding = THREE.sRGBEncoding;\r\n\r\n      solien.traverse(function (child) {\r\n        if (child.isMesh) {\r\n          child.castShadow = true;\r\n          child.receiveShadow = true;\r\n          child.material.roughness = 0.7;\r\n          child.material.metalness = 0.1;\r\n          child.material.map = texture;\r\n          child.material.needsUpdate = true;\r\n        }\r\n      });\r\n      // child.material.side = THREE.DoubleSide;\r\n      // child.material.dithering = true;\r\n      mLoaded();\r\n    });\r\n\r\n    solien.position.set(-0.5, -1.5, -0.6);  //prev (0, 0.5, -0.6)\r\n    solien.rotation.set(0, Math.PI * 0.25, 0);\r\n    solien.scale.set(2, 2, 2);    //prev (1.6, 1.6, 1.6)\r\n    // solien.visible = false;\r\n\r\n    characterList.push(solien);\r\n  });\r\n  gltfloader.load(sunkModel, function (object) {\r\n    sunk = object.scene;\r\n    // console.log('sunk loaded');\r\n    const mixer = new THREE.AnimationMixer(sunk);\r\n    const action = mixer.clipAction(object.animations[0]);\r\n    action.play();\r\n    mixers.push(mixer);\r\n    selectedObjects.push(sunk);\r\n    \r\n    const sunkLoadManager = new THREE.LoadingManager();\r\n    const sunkTexLoader1 = new THREE.TextureLoader(sunkLoadManager);\r\n    const sunkTexLoader2 = new THREE.TextureLoader(sunkLoadManager);\r\n    var sunkRoughnessTexture, sunkDiffuseTexture;\r\n\r\n    sunkTexLoader1.load(Sunk_metalroughness_texture, (texture) => {\r\n      texture.flipY = false;\r\n      texture.encoding = THREE.sRGBEncoding;\r\n      texture.needsUpdate = true;\r\n      sunkRoughnessTexture = texture;\r\n    })\r\n\r\n    sunkTexLoader2.load(sunkDiffuse, (texture) => {\r\n      texture.flipY = false;\r\n      texture.encoding = THREE.sRGBEncoding;\r\n      texture.needsUpdate = true;\r\n      sunkDiffuseTexture = texture;\r\n    })\r\n\r\n    sunkLoadManager.onLoad= () => {\r\n\r\n      sunk.traverse(function (child) {\r\n        if(child.isMesh){\r\n          child.material.roughness = 0.9;\r\n          child.material.metalness = 0.7;\r\n\r\n          child.material.metalnessMap = sunkRoughnessTexture;\r\n          child.material.roughnessMap = sunkRoughnessTexture;\r\n          child.material.map = sunkDiffuseTexture;\r\n          child.material.needsUpdate = true;\r\n\r\n          // textureLoader.load(Sunk_metalroughness_texture, (texture) => {\r\n          //   texture.flipY = false;\r\n          //   texture.needsUpdate = true;\r\n          //   child.material.metalnessMap = texture;\r\n          //   child.material.roughnessMap = texture;\r\n          //   child.material.needsUpdate = true;\r\n          // });\r\n          // textureLoader.load(sunkDiffuse, (texture) => {\r\n          //   texture.flipY = false;\r\n          //   texture.encoding = THREE.sRGBEncoding;\r\n          //   child.material.map = texture;\r\n          //   child.material.needsUpdate = true;\r\n          // })\r\n        }\r\n      });\r\n\r\n      mLoaded();\r\n    }\r\n\r\n\r\n    // sunk.rotation.set(0, -50, 0);\r\n    sunk.rotation.set(THREE.MathUtils.degToRad(5), Math.PI * 0.1, 0);\r\n    sunk.position.set( -0.5, -2.7, -1.2);   //prev (0,-0.5,-1)\r\n    const scale = 1.2;  //1.2\r\n    sunk.scale.set(scale, scale, scale);    //prev (1.2, 1.2, 1.2)\r\n    // sunk.visible = false;\r\n\r\n    characterList.push(sunk);\r\n  });\r\n  \r\n  gltfloader.load(solarianModel, function (object) {\r\n    solarian = object.scene;\r\n    const mixer = new THREE.AnimationMixer(solarian);\r\n    const action = mixer.clipAction(object.animations[0]);\r\n    action.play();\r\n    mixers.push(mixer);\r\n    selectedObjects.push(solarian);\r\n    // console.log('solarian loaded');\r\n\r\n    var diffuseMap;\r\n    textureLoader.load(solarianDiffuse, (texture) => {\r\n      texture.flipY = false;\r\n      texture.encoding = THREE.sRGBEncoding;\r\n      texture.needsUpdate = true;\r\n      diffuseMap = texture;\r\n      solarian.traverse(function (child) {\r\n        if (child.isMesh) {\r\n          child.castShadow = true;\r\n          child.receiveShadow = true;\r\n          child.material.map = diffuseMap;\r\n          child.material.roughness = 0.4;\r\n          child.material.metalness = 0.2;\r\n          child.material.needsUpdate = true;\r\n          // textureLoader.load(solarian_texture, (texture) => {\r\n          //   child.material.map = texture;\r\n          //   child.material.needsUpdate = true;\r\n          // });\r\n        }\r\n      });\r\n      mLoaded();\r\n    })\r\n\r\n\r\n    // solarian.rotation.set(0, -50, 0);\r\n    solarian.rotation.set(0, 0.5, 0);   //prev (0, 0.5, 0)\r\n    solarian.position.x = -0.25;\r\n    solarian.position.y = -0.5;  //prev 0.7\r\n    solarian.scale.set(1.8, 1.8, 1.8);  //prev (2,2,2)\r\n    // solarian.visible = false;\r\n\r\n    characterList.push(solarian);\r\n  });\r\n}\r\nfunction mLoaded(){\r\n  loadedCount++;\r\n  if(loadedCount >= characterCount){\r\n    renderer.domElement.style.display = \"block\";\r\n    modelsLoaded = true;\r\n    console.log(\"All characters loaded\");\r\n    // setTimeout(() => {\r\n\r\n    //   console.log(\"Timeout completed\");\r\n    // }, 10000);\r\n    // // composer.render();\r\n  }\r\n}\r\nsetupScene();\r\n// function sleep(milliseconds) {\r\n//   const date = Date.now();\r\n//   let currentDate = null;\r\n//   do {\r\n//     currentDate = Date.now();\r\n//   } while (currentDate - date < milliseconds);\r\n// }\r\n// console.log(\"before sleep\");\r\n// sleep(10000);\r\n// console.log(\"after sleep\");\r\n\r\nfunction Characters() {\r\n  const character = useSelector((state) => state.characterSelect.character);\r\n  const ref = useRef();\r\n  \r\n  useEffect(() => {\r\n    const current = ref.current;\r\n    let width = current.clientWidth; // or window.innerWidth;\r\n    let height = current.clientHeight; // = window.innerHeight for full screen\r\n\r\n    const init = () => {\r\n      camera = new THREE.PerspectiveCamera(90, width/ height, 1, 100000);\r\n      camera.position.set(0, 2.5, 4);\r\n      renderer.setSize(width, height);\r\n      current.appendChild(renderer.domElement);\r\n\r\n      setupPostProcessing(width, height);\r\n\r\n      if(modelsLoaded === false)\r\n        return;\r\n\r\n      if (character === 0) {\r\n        scene.add(rumbler);\r\n        scene.remove(solarmy);\r\n        scene.remove(solien);\r\n        scene.remove(sunk);\r\n        scene.remove(solarian);\r\n      }\r\n      if (character === 1) {\r\n        scene.remove(rumbler);\r\n        scene.add(solarmy);\r\n        scene.remove(solien);\r\n        scene.remove(sunk);\r\n        scene.remove(solarian);\r\n      }\r\n      if (character === 2) {\r\n        scene.remove(rumbler);\r\n        scene.remove(solarmy);\r\n        scene.add(solien);\r\n        scene.remove(sunk);\r\n        scene.remove(solarian);\r\n      }\r\n      if (character === 3) {\r\n        scene.remove(rumbler);\r\n        scene.remove(solarmy);\r\n        scene.remove(solien);\r\n        scene.add(sunk);\r\n        scene.remove(solarian);\r\n      }\r\n      if (character === 4) {\r\n        scene.remove(rumbler);\r\n        scene.remove(solarmy);\r\n        scene.remove(solien);\r\n        scene.remove(sunk);\r\n        scene.add(solarian);\r\n      }\r\n    };\r\n\r\n    init();\r\n\r\n    manager.onLoad = () => {\r\n      console.log(\"Calling Render\");\r\n      animate();\r\n    };\r\n\r\n    // animate\r\n    const animate = function () {\r\n      requestAnimationFrame(animate);\r\n      // characterChange();\r\n\r\n      if(isScrolledIntoView(doc) && modelsLoaded){\r\n        const delta = clock.getDelta();\r\n        for (let i = 0; i < mixers.length; i++) {\r\n          mixers[i].update(delta);\r\n        }\r\n        render();\r\n      }\r\n      else if(firstFrameRendered === false){\r\n        const delta = clock.getDelta();\r\n        for (let i = 0; i < mixers.length; i++) {\r\n          mixers[i].update(delta);\r\n        }\r\n        render();\r\n      }\r\n    };\r\n\r\n    const doc = document.getElementById('character_model');\r\n\r\n    function isScrolledIntoView(el) {\r\n      var rect = el.getBoundingClientRect();\r\n      var elemTop = rect.top;\r\n      var elemBottom = rect.bottom;\r\n      var isVisible = elemTop < window.innerHeight && elemBottom >= 0;\r\n      return isVisible;\r\n    }\r\n\r\n    const render = () => {\r\n      //renderer.render(scene, camera);\r\n       composer.render();\r\n      if(!firstFrameRendered){\r\n        firstFrameRendered = true;\r\n        console.log(\"First frame rendered\");\r\n      }\r\n    };\r\n\r\n    const handleResize = () => {\r\n      width = ref.current.clientWidth;\r\n      height = ref.current.clientHeight;\r\n      // height = 500;\r\n      renderer.setSize(width, height);\r\n      camera.aspect = width / height;\r\n      camera.updateProjectionMatrix();\r\n      render();\r\n    };\r\n    //#region Old props code\r\n    // props.store.subscribe((data) => {\r\n    //   console.log(data.characterSelect.character);\r\n    //   if (currentCharIndex === data.characterSelect.character) {\r\n    //     console.log(\"Same character\");\r\n    //     return;\r\n    //   }\r\n\r\n    //   for (let i = 0; i < characterList.length; i++) {\r\n    //     characterList[i].visible = false;\r\n    //     if (i === data.characterSelect.character) {\r\n    //       console.log(\"Change character!\");\r\n    //       characterList[i].visible = true;\r\n    //       currentCharIndex = i;\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    // const characterChange = () => {\r\n    //   console.log(character.character);\r\n    //   if (currentCharIndex === character.character) {\r\n    //     console.log(\"Same character\");\r\n    //     return;\r\n    //   }\r\n    //   for (let i = 0; i < characterList.length; i++) {\r\n    //     characterList[i].visible = false;\r\n    //     if (i === character.character) {\r\n    //       console.log(\"Change character!\");\r\n    //       characterList[i].visible = true;\r\n    //       currentCharIndex = i;\r\n    //     }\r\n    //   }\r\n    // };\r\n    //#endregion\r\n    \r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      // Callback to cleanup three js, cancel animationFrame, etc\r\n\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      current.removeChild(renderer.domElement);\r\n    };\r\n  }, [character]);\r\n \r\n  // console.log(\"returned character\");\r\n  return <div ref={ref} className=\"Characters\"></div>;\r\n}\r\n\r\nexport default Characters;\r\n"]}}