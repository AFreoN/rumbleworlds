(this["webpackJsonprumble-worlds"]=this["webpackJsonprumble-worlds"]||[]).push([[4],{70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t),a.d(t,"firstFrameRendered",function(){return I});var n=a(1),o=a(2),s=a(16),i=a.p+"static/media/solarmy_nonTex.b04c5e96.glb",r=a.p+"static/media/solarmy_diffuse512.3064f037.png",d=a.p+"static/media/solien_nonTex.f92e0c2c.glb",l=a.p+"static/media/solien_diffuse512.a226f1cf.png",c=a.p+"static/media/sunk_nonTex.abd31909.glb",p=a.p+"static/media/sunk_diffuse512.720afcef.png",m=a.p+"static/media/rumbler_tex512.bf353b66.glb",u=a.p+"static/media/solarian_nonTex.b4d78b28.glb",h=a.p+"static/media/solarian_diffuse512.6eb047ab.jpg",f=a(25),w=a(22),g=a(23),b=a.p+"static/media/Solarmy_MetalRoughMap.df706793.png",v=a.p+"static/media/Sunk_MetalRoughness.553a66d4.png",y=(a(70),a(13)),S=a(0);let M,E=[];const _=new o.O,x=new s.a(_),P=new o.Eb(_),j=new o.k,k=new o.Ob({alpha:!0});var C;k.setClearColor(0,0);var O=[];let U,A,R,L,T,Y,z=[];var H=!1;var B=0,F=!1,I=!1;function D(){++B>=5&&(k.domElement.style.display="block",F=!0,console.log("All characters loaded"))}!function(){U=new o.wb,k.toneMapping=o.ub,k.toneMappingExposure=1,k.shadowMap.enabled=!0,U.fog=new o.u(U.background,1,2e4);const e=new o.y(16777215,4473924,1);e.position.set(0,2,0),e.position.multiplyScalar(1e6);const t=new o.o(16774838,10);t.color.setHSL(.1,1,.95),t.position.multiplyScalar(30);const a=200;t.position.set(-2,2,4),t.position.multiplyScalar(1e3),t.castShadow=!0,t.shadow.camera.top=a,t.shadow.camera.bottom=-a,t.shadow.camera.left=-a,t.shadow.camera.right=a,t.shadow.camera.far=35e3,t.shadow.bias=-1e-4,U.add(t),new o.Bb(11141120).position.set(-10,10,-5);const n=new o.jb(13311,30,40);n.position.set(10,2,0),U.add(n);const s=new o.b(16777215,0);U.add(s),k.domElement.style.display="none",x.load(m,function(e){T=e.scene;const t=new o.d(T);t.clipAction(e.animations[0]).play(),E.push(t),O.push(T),T.traverse(e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),T.position.x=-.5,T.position.y=-1.25,T.rotation.y=.3,T.scale.set(13,13,13),U.add(T),z.push(T),D()}),x.load(i,function(e){A=e.scene;const t=new o.d(A),a=t.clipAction(e.animations[0]);E.push(t),a.play(),O.push(A);const n=new o.O,s=new o.Eb(n);var i,d;s.load(b,e=>{e.flipY=!1,e.needsUpdate=!0,d=e}),s.load(r,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,i=e}),n.onLoad=()=>{A.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.roughness=.9,e.material.metalness=1,e.material.metalnessMap=d,e.material.roughnessMap=d,e.material.map=i,e.material.needsUpdate=!0)}),D()},A.position.set(-.5,-1.5,0),A.rotation.set(0,0,0),A.scale.set(3.6,3.6,3.6),A.name="solarmy",z.push(A)}),x.load(d,function(e){R=e.scene;const t=new o.d(R);t.clipAction(e.animations[0]).play(),E.push(t),O.push(R),P.load(l,e=>{e.flipY=!1,e.encoding=o.Pb,R.traverse(function(t){t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,t.material.roughness=.7,t.material.metalness=.1,t.material.map=e,t.material.needsUpdate=!0)}),D()}),R.position.set(-.5,-1.5,-.6),R.rotation.set(0,.25*Math.PI,0),R.scale.set(2,2,2),z.push(R)}),x.load(c,function(e){L=e.scene;const t=new o.d(L);t.clipAction(e.animations[0]).play(),E.push(t),O.push(L);const a=new o.O,n=new o.Eb(a),s=new o.Eb(a);var i,r;n.load(v,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,i=e}),s.load(p,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,r=e}),a.onLoad=()=>{L.traverse(function(e){e.isMesh&&(e.material.roughness=.9,e.material.metalness=.7,e.material.metalnessMap=i,e.material.roughnessMap=i,e.material.map=r,e.material.needsUpdate=!0)}),D()},L.rotation.set(o.S.degToRad(5),.1*Math.PI,0),L.position.set(-.5,-2.7,-1.2);const d=1.2;L.scale.set(d,d,d),z.push(L)}),x.load(u,function(e){Y=e.scene;const t=new o.d(Y);var a;t.clipAction(e.animations[0]).play(),E.push(t),O.push(Y),P.load(h,e=>{e.flipY=!1,e.encoding=o.Pb,e.needsUpdate=!0,a=e,Y.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map=a,e.material.roughness=.4,e.material.metalness=.2,e.material.needsUpdate=!0)}),D()}),Y.rotation.set(0,.5,0),Y.position.x=-.25,Y.position.y=-.5,Y.scale.set(1.8,1.8,1.8),z.push(Y)})}();t.default=function(){const e=Object(y.d)(e=>e.characterSelect.character),t=Object(n.useRef)();return Object(n.useEffect)(()=>{const a=t.current;let n=a.clientWidth,s=a.clientHeight;M=new o.ib(90,n/s,1,1e5),M.position.set(0,2.5,4),k.setSize(n,s),a.appendChild(k.domElement),function(e,t){if(H)return;const a=5,n=0,s=1;C=new f.a(k);const i=new w.a(U,M);C.addPass(i);const r=new g.a(new o.Kb(e,t),U,M);r.edgeStrength=a,r.edgeGlow=n,r.edgeThickness=s,r.visibleEdgeColor.set(0),r.hiddenEdgeColor.set(1118481),r.selectedObjects=O,C.addPass(r),H=!0}(n,s),!1!==F&&(0===e&&(U.add(T),U.remove(A),U.remove(R),U.remove(L),U.remove(Y)),1===e&&(U.remove(T),U.add(A),U.remove(R),U.remove(L),U.remove(Y)),2===e&&(U.remove(T),U.remove(A),U.add(R),U.remove(L),U.remove(Y)),3===e&&(U.remove(T),U.remove(A),U.remove(R),U.add(L),U.remove(Y)),4===e&&(U.remove(T),U.remove(A),U.remove(R),U.remove(L),U.add(Y))),_.onLoad=()=>{console.log("Calling Render"),i()};const i=function(){if(requestAnimationFrame(i),function(e){var t=e.getBoundingClientRect(),a=t.top,n=t.bottom;return a<window.innerHeight&&n>=0}(r)&&F){const e=j.getDelta();for(let t=0;t<E.length;t++)E[t].update(e);d()}else if(!1===I){const e=j.getDelta();for(let t=0;t<E.length;t++)E[t].update(e);d()}},r=document.getElementById("character_model");const d=()=>{C.render(),I||(I=!0,console.log("First frame rendered"))},l=()=>{n=t.current.clientWidth,s=t.current.clientHeight,k.setSize(n,s),M.aspect=n/s,M.updateProjectionMatrix(),d()};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),a.removeChild(k.domElement)}},[e]),Object(S.jsx)("div",{ref:t,className:"Characters"})}}}]);
//# sourceMappingURL=4.d9372273.chunk.js.map